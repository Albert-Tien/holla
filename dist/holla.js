// Generated by CoffeeScript 1.6.2
(function() {
  var Call, Client, holla, shims;

  Client = require('./Client');

  Call = require('./Call');

  shims = require('./shims');

  holla = {
    createClient: function(opt) {
      if (opt == null) {
        opt = {};
      }
      return new Client(opt);
    },
    Call: Call,
    Client: Client,
    supported: shims.supported,
    config: shims.PeerConnConfig,
    streamToBlob: function(s) {
      return shims.URL.createObjectURL(s);
    },
    pipe: function(stream, el) {
      var uri;

      uri = holla.streamToBlob(stream);
      return shims.attachStream(uri, el);
    },
    createStream: function(opt, cb) {
      var err, succ;

      if (shims.getUserMedia == null) {
        return cb("Missing getUserMedia");
      }
      err = cb;
      succ = function(s) {
        return cb(null, s);
      };
      shims.getUserMedia(opt, succ, err);
      return holla;
    },
    createFullStream: function(cb) {
      return holla.createStream({
        video: true,
        audio: true
      }, cb);
    },
    createVideoStream: function(cb) {
      return holla.createStream({
        video: true,
        audio: false
      }, cb);
    },
    createAudioStream: function(cb) {
      return holla.createStream({
        video: false,
        audio: true
      }, cb);
    }
  };

  module.exports = holla;

}).call(this);
