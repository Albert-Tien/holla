var a,b,c=function(a,b){return function(){return a.apply(b,arguments)}},d=Array.prototype.slice;b=function(){var a;return a=function(){return((1+Math.random())*65536|0).toString(16)},""+a()+a()+a()+a()+a()+a()},a=function(){function a(a,b){this.setup=c(this.setup,this);var d=this;a==null&&(a="http://"+location.host),this.socket=new SockJS(""+a+"/vein",null,b),this.callbacks.services=this.setup,this.socket.onmessage=function(a){var b,c,e,f;e=JSON.parse(a.data),c=e.id,b=e.args;if(!c||!d.callbacks[c])return;return(f=d.callbacks)[c].apply(f,b),delete d.callbacks[c]},this.socket.onclose=function(){var a;return typeof (a=d.callbacks).close=="function"?a.close():void 0};return}return a.prototype.ready=function(a){return this.callbacks.ready=a},a.prototype.close=function(a){return this.callbacks.close=a},a.prototype.setup=function(){var a,c,e,f,g,h;c=1>arguments.length?[]:d.call(arguments,0),f=function(a){return this[a]=function(){var c,e,f,g;return c=2>arguments.length?(g=0,[]):d.call(arguments,0,g=arguments.length-1),e=arguments[g++],f=b(),this.callbacks[f]=e,this.socket.send(JSON.stringify({id:f,service:a,args:c}))}};for(g=0,h=c.length;g<h;g++)a=c[g],f(a);typeof (e=this.callbacks)["ready"]=="function"&&e.ready(c),delete this.callbacks.ready,delete this.callbacks.services},a.prototype.callbacks={},a}(),window.Vein=a,window.define!=null&&window.define(["https://d1fxtkz8shb9d2.cloudfront.net/sockjs-0.2.js"],window.Vein);